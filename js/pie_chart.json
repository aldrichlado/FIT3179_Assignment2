{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Pie Chart with percentage_tooltip",
  "data": {
    "url": "https://raw.githubusercontent.com/aldrichlado/FIT3179_Assignment2/main/data/PieChart.csv"
  },
  "transform": [
    {
      "joinaggregate": [
        {"op": "count", "field": "JobTitle", "as": "JobTitleCount"}
      ]
    }
  ],
  "mark": {"type": "arc", "tooltip": true},
  "encoding": {
    "theta": {
      "field": "JobTitleCount",
      "type": "quantitative",
      "stack": "normalize"
    },
    "color": {"field": "JobTitle", "type": "nominal"}
  },
  "config": {}
}